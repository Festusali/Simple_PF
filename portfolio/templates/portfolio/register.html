{% extends './base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block other_nav_links %}{% endblock other_nav_links %}

{% block page_title %}Register Account{% endblock page_title %}

{% block contents %}

<section id="register" class="info">
<div class="container">
<div class="row">
    <div class="col-lg-12 text-center">
        <h2>{% block title %}Register Account{% endblock title %}</h2>
        {% block title_divider %}<hr class="star-primary">{% endblock title_divider %}
    </div>
</div>

<div class="login">
    <a href="{% url 'login' %}" title="Login to your Account">Login instead</a>
</div>

<div class="row info">
    <div class="col-xs-12">
{% if form %}

{% if form.is_multipart %}
    <form enctype="multipart/form-data" method="POST" action="">
{% else %}
    <form action="" method="POST">
{% endif %}

{% csrf_token %}

{{ form|crispy }}

<div id="success" class="info"></div>
<div class="row float-right">
    <div class="form-group col-xs-12">
        <button type="submit" class="btn btn-primary btn-outline success">
            <span class="glyphicon glyphicon-user"></span> Register
        </button>
    </div>
</div>

</form>

<div class="login">
    Already has an account? <a href="{% url 'login' %}" title="Login to your Account">Login</a>
</div>

{% else %}
<div class="row info">
    <div class="col-xs-12">
        {% if domain %}
        <p class="title">Registration Successful </p>
        <p class="detail">Your account registration was successful. This new account however, is not active until you confirm your email address. <br>We have sent an email to the email address your provided. To confirm now, please go to your <a href="http://{{ domain }}"> email inbox</a> and follow the instructions in the email to confirm.</p>
        <p class="note"><b>Note:</b> This account expires within 48 hours from the time of registration if not verified. Failure to confirm this account within the specified period invalidates the account.<br> if you couldn't get the email, here is the confirmation code: {{ code}}</p>
        {% endif %}
    </div>
</div>
{% endif %}
    </div>
</div>


</div>
</section>
{% endblock contents %}